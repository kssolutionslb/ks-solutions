import{b as d}from"./chunk-M633AOFN.js";import{k as m,m as g}from"./chunk-6TCTL4DN.js";import{I as h,Ta as n,Y as l,a as u,b as c,ca as o}from"./chunk-SO6NV2X2.js";var k=(()=>{let e=class e{constructor(){this._networkService=o(d),this._activatedRoute=o(m),this._router=o(g),this._menu=n(null),this._lang=n(void 0),this.menu=this._menu.asReadonly(),this.lang=this._lang.asReadonly(),this.selectedSectionSig=n(null)}getMenuData(){this._activatedRoute.params.pipe(h(1)).subscribe(t=>{t&&t.businessName?this._networkService.getAsset(`./assets/json/${t.businessName}.json`).pipe(h(1)).subscribe({next:s=>{this._lang.set(s.store.mainLang);let f=c(u({},s),{sub_categories:s.sub_categories.map(i=>c(u({},i),{items:s.items.filter(r=>!r.hide&&r.subCategoryId===i.subCategoryId).sort((r,_)=>r.order-_.order)})).filter(i=>!i.hide&&i.items.length).sort((i,r)=>i.order-r.order)});this._menu.set(f),this._lang.set(s.store.mainLang)},error:()=>{this._router.navigateByUrl("")}}):this._router.navigateByUrl("")})}changeLang(t){t&&this._lang.set(t)}};e.\u0275fac=function(s){return new(s||e)},e.\u0275prov=l({token:e,factory:e.\u0275fac,providedIn:"root"});let a=e;return a})();export{k as a};
