import{a as B}from"./chunk-YC6P5DOU.js";import{a as G}from"./chunk-UZYDSN7X.js";import{a as N}from"./chunk-RN7YLSYN.js";import"./chunk-YG3ZRH6R.js";import"./chunk-HMNUYURD.js";import{a as A}from"./chunk-WQQRSZMJ.js";import{A as w,C as P,D as k,E as C,G as x,I as S,L as T,ea as I,fa as E,ja as R,ka as D,la as L,pa as O,ra as q}from"./chunk-TNID6TGJ.js";import"./chunk-CARY4E7O.js";import"./chunk-COU37GAH.js";import{$b as g,Ac as y,Hb as o,N as f,Sb as r,Tb as a,Ub as s,hb as t,ka as d,mc as u,oa as v,sb as h,vc as b,wc as n,xc as p,yc as _,zc as F}from"./chunk-ZZEMHH24.js";var j=()=>({addClass:"container-fluid"}),z=e=>({addClass:"background-transparent p-2",content:e}),W=()=>({text:"Forgot Password",tag:"h3",fontWeight:"500",case:"uppercase"}),Q=()=>({text:"Email"}),Y=()=>({icon:"icon_message",color:"var(--primary-color)"}),Z=()=>({preventInputSpace:!0}),H=(e,l,m,c)=>({label:e,control:l,prefixIcon:m,extra:c}),J=()=>({text:"Go back to login"}),K=()=>({icon:"icon_backward"}),U=(e,l)=>({label:e,prefixIcon:l}),X=()=>({text:"Send Recovery Link"}),$=()=>({"min-height":"45px"}),ee=(e,l,m)=>({label:e,addStyles:l,matType:"mat-stroked-button",type:"submit",color:"primary",disabled:m,takeFullWidth:!0}),M=e=>({text:e,translate:!1}),te=()=>({text:"Powered By"}),oe=e=>({loading:e,disableInteractions:!0}),fe=(()=>{class e{constructor(){this._authService=d(B),this._navbar=d(A),this.isReqInProgress=h(!1),this.constants=N,this.date=new Date().getFullYear(),this.forgotPasswordForm=new k({email:new C("",[w.required,E])})}ngOnInit(){window.scrollTo(0,0),this._theme=this._navbar.getCurrentTheme(),this._navbar.forceTheme("dark",!0)}ngOnDestroy(){this._navbar.forceTheme(this._theme)}goToLogin(){this._navbar.navigateTo(G.LOGIN.route)}forgotPassword(){I(this.forgotPasswordForm)&&this.forgotPasswordForm.value.email&&(this.isReqInProgress.set(!0),this._authService.forgotPassword(this.forgotPasswordForm.value.email.toLowerCase()).pipe(f(1)).subscribe({next:()=>{this.goToLogin(),this.isReqInProgress.set(!1)},error:()=>{this.isReqInProgress.set(!1)}}))}static{this.\u0275fac=function(c){return new(c||e)}}static{this.\u0275cmp=v({type:e,selectors:[["ks-solutions-forgot-password"]],standalone:!0,features:[b],decls:23,vars:40,consts:[[1,"login-container","d-flex","align-items-center","justify-content-center"],[1,"login-card",3,"config"],[1,"py-3","mx-auto"],[1,"text-center",3,"config"],[1,"h5","text-center"],[1,"px-sm-1","px-md-4","py-2",3,"ngSubmit","formGroup"],[1,""],[3,"config"],[1,"mb-3","small","text-end"],[3,"onClick","config"],[1,"mt-4",3,"config"],[1,"mt-3","small","mx-auto","text-center"],[2,"font-size","14px","padding-top","2px"],[1,"small","mx-auto","text-center","mt-2"],[1,"cs-primary-color"]],template:function(c,i){c&1&&(r(0,"div",0)(1,"ks-base-card",1)(2,"div",2),s(3,"ks-base-label",3),r(4,"div",4),u(5,"Please enter your Email for password recovery."),a()(),r(6,"div")(7,"form",5),g("ngSubmit",function(){return i.forgotPassword()}),r(8,"div",6),s(9,"ks-base-input",7),a(),r(10,"div",8)(11,"ks-base-button",9),g("onClick",function(){return i.goToLogin()}),a()(),s(12,"ks-base-button",10),a()(),r(13,"div",11)(14,"span",12),u(15,"\xA9"),a(),s(16,"ks-base-label",7),a(),r(17,"div",13),s(18,"ks-base-label",7),u(19," \xA0 "),r(20,"b",14),s(21,"ks-base-label",7),a()()(),s(22,"ks-loader-overlay",7),a()),c&2&&(t(),o("config",p(11,z,n(10,j))),t(2),o("config",n(13,W)),t(4),o("formGroup",i.forgotPasswordForm),t(2),o("config",y(17,H,n(14,Q),i.forgotPasswordForm.controls.email,n(15,Y),n(16,Z))),t(2),o("config",_(24,U,n(22,J),n(23,K))),t(),o("config",F(29,ee,n(27,X),n(28,$),i.isReqInProgress)),t(4),o("config",p(33,M,"2022 - "+i.date+" - Version: "+i.constants.version)),t(2),o("config",n(35,te)),t(3),o("config",p(36,M,i.constants.appOwner)),t(),o("config",p(38,oe,i.isReqInProgress)))},dependencies:[L,O,T,x,P,S,D,q,R],styles:['.login-container[_ngcontent-%COMP%]{overflow-y:auto;min-height:100dvh;background:url("./media/login-5DPQAA6Z.jpg");background-size:cover}.login-card[_ngcontent-%COMP%]{width:calc(100vw - 20px);max-width:500px}'],changeDetection:0})}}return e})();export{fe as ForgotPasswordComponent};
