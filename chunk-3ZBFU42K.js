import{a as O}from"./chunk-5BEAHC2X.js";import{a as B}from"./chunk-62ZGL2NS.js";import"./chunk-5BWCYXSX.js";import{a as q}from"./chunk-ACYZVNWI.js";import"./chunk-7YJWRT5B.js";import"./chunk-HMNUYURD.js";import{a as R}from"./chunk-NYBZM275.js";import{C as p,E as I,F as v,G as g,I as V,K as E,N as G,ga as C,ha as M,ma as N,na as P,oa as D}from"./chunk-VY5GT2Q6.js";import"./chunk-CARY4E7O.js";import"./chunk-4KKA7PE6.js";import{Ab as S,Ac as d,Bc as b,Ib as r,Ob as y,Tb as s,Ub as m,Vb as u,Zb as h,ac as f,cc as l,ib as a,ka as w,oa as x,wc as L,xc as o,ya as F,yc as k,za as _,zc as T}from"./chunk-VO6IE2C5.js";var $=(t,n,e)=>({title:t,subTitle:n,isReqInProgress:e,uppercaseSubTitle:!0}),z=()=>({text:"Email"}),A=()=>({icon:"icon_message",color:"var(--primary-color)"}),W=()=>({preventInputSpace:!0}),J=(t,n,e,i)=>({label:t,control:n,prefixIcon:e,extra:i}),K=()=>({text:"Password"}),Q=()=>({icon:"icon_lock",color:"var(--primary-color)"}),U=(t,n,e,i)=>({label:t,control:n,type:"password",prefixIcon:e,extra:i}),X=()=>({text:"Forgot Password?"}),Y=t=>({label:t}),Z=()=>({text:"SIGN IN"}),j=()=>({"min-height":"45px"}),H=(t,n,e)=>({label:t,addStyles:n,matType:"mat-stroked-button",type:"submit",color:"primary",disabled:e,takeFullWidth:!0}),ee=()=>({text:"Code"}),te=(t,n,e)=>({label:t,control:n,prefixIcon:e,onlyNumeric:!0}),oe=()=>({text:"Remember Me"}),ne=(t,n)=>({label:t,control:n}),ie=()=>({text:"Submit Code"});function re(t,n){if(t&1){let e=h();s(0,"form",2),f("ngSubmit",function(){F(e);let c=l();return _(c.login())}),s(1,"div",3),u(2,"ks-base-input",0),m(),s(3,"div"),u(4,"ks-base-input",0),m(),s(5,"div",4)(6,"ks-base-button",5),f("onClick",function(){F(e);let c=l();return _(c.forgotPassword())}),m()(),u(7,"ks-base-button",6),m()}if(t&2){let e=l();r("formGroup",e.LoginForm),a(2),r("config",b(8,J,o(5,z),e.LoginForm.controls.email,o(6,A),o(7,W))),a(2),r("config",b(16,U,o(13,K),e.LoginForm.controls.password,o(14,Q),o(15,W))),a(2),r("config",k(22,Y,o(21,X))),a(),r("config",d(26,H,o(24,Z),o(25,j),e.isLoggingIn))}}function ce(t,n){if(t&1){let e=h();s(0,"form",2),f("ngSubmit",function(){F(e);let c=l();return _(c.onTwoFactorCode())}),s(1,"div",3),u(2,"ks-base-input",0),m(),s(3,"div",3),u(4,"ks-base-checkbox",0),m(),u(5,"ks-base-button",6),m()}if(t&2){let e=l();r("formGroup",e.twoFactorFrom),a(2),r("config",d(6,te,o(4,ee),e.twoFactorFrom.controls.twoFactorCode,o(5,A))),a(2),r("config",T(11,ne,o(10,oe),e.twoFactorFrom.controls.rememberMe)),a(),r("config",d(16,H,o(14,ie),o(15,j),e.isLoggingIn))}}var we=(()=>{class t{constructor(){this._authService=w(B),this._navbar=w(R),this.isLoggingIn=this._authService.isLoggingIn,this.LoginForm=new v({email:new g("",[p.required,M]),password:new g("",[p.required])}),this.twoFactorFrom=new v({twoFactorCode:new g("",[p.required,p.minLength(6),p.maxLength(8)]),rememberMe:new g(!1)}),this.showTwoFactor=this._authService.showTwoFactorScreen}forgotPassword(){this._navbar.navigateTo(q.FORGOT_PASSWORD.route)}login(){C(this.LoginForm)&&this.LoginForm.value.email&&this.LoginForm.value.password&&this._authService.login(this.LoginForm.value.email.toLowerCase(),this.LoginForm.value.password,{screenWidth:window.screen.width,screenHeight:window.screen.height,deviceOrientation:screen.orientation.type})}onTwoFactorCode(){C(this.twoFactorFrom)&&this.twoFactorFrom.value.twoFactorCode&&this._authService.twoFactor$.next({code:this.twoFactorFrom.value.twoFactorCode,rememberMe:!!this.twoFactorFrom.value.rememberMe})}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=x({type:t,selectors:[["ks-solutions-login"]],standalone:!0,features:[L],decls:3,vars:6,consts:[[3,"config"],[1,"px-sm-1","px-md-4","py-2",3,"formGroup"],[1,"px-sm-1","px-md-4","py-2",3,"ngSubmit","formGroup"],[1,"mb-3"],[1,"mb-3","small","text-end"],[3,"onClick","config"],[1,"mt-4",3,"config"]],template:function(i,c){i&1&&(s(0,"ks-solutions-form-layout",0),S(1,re,8,30,"form",1)(2,ce,6,20,"form",1),m()),i&2&&(r("config",d(2,$,c.showTwoFactor()?"two factor authentication":"welcome",c.showTwoFactor()?"please enter your code":"sign in to your account",c.isLoggingIn)),a(),y(c.showTwoFactor()?2:1))},dependencies:[P,G,V,I,E,N,O,D],changeDetection:0})}}return t})();export{we as LoginComponent};
