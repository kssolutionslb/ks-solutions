import{a as H}from"./chunk-VQFOZB46.js";import{a as q}from"./chunk-EU3K55CM.js";import"./chunk-I3O3JYK7.js";import{a as R}from"./chunk-FQRZVHIL.js";import"./chunk-O4Z7XCTG.js";import"./chunk-HMNUYURD.js";import{a as D}from"./chunk-DGQRDBDH.js";import{A as k,B as O,C as _,D as T,E,F as y,G as C,I as V,K as G,L as N,M as I,O as z,ha as S,ia as A}from"./chunk-YIOKFAT3.js";import"./chunk-CARY4E7O.js";import"./chunk-WLEIZKK2.js";import{Aa as u,Ba as b,Bb as m,Bc as P,Jb as d,Pb as p,Ub as o,Vb as n,Wb as r,_b as v,bc as w,dc as g,jb as l,ka as x,oa as M,oc as s,pd as L,xc as F,ya as f,za as h}from"./chunk-E5CLUL7I.js";var j=(e,a,t)=>({title:e,subTitle:a,isReqInProgress:t,uppercaseSubTitle:!1});function B(e,a){e&1&&(o(0,"span",10),s(1,"Please enter a valid email"),n())}function W(e,a){e&1&&(u(),o(0,"svg",16),r(1,"path",21)(2,"line",22),n())}function Y(e,a){e&1&&(u(),o(0,"svg",16),r(1,"path",23)(2,"circle",24),n())}function $(e,a){e&1&&(o(0,"span",10),s(1,"Password is required"),n())}function J(e,a){e&1&&r(0,"span",20)}function K(e,a){e&1&&s(0," Sign In ")}function Q(e,a){if(e&1){let t=v();o(0,"form",2),w("ngSubmit",function(){f(t);let i=g();return h(i.login())}),o(1,"div",3)(2,"label",4),s(3,"Email Address"),n(),o(4,"div",5),u(),o(5,"svg",6),r(6,"path",7)(7,"polyline",8),n(),b(),r(8,"input",9),n(),m(9,B,2,0,"span",10),n(),o(10,"div",3)(11,"label",11),s(12,"Password"),n(),o(13,"div",5),u(),o(14,"svg",6),r(15,"rect",12)(16,"path",13),n(),b(),r(17,"input",14),o(18,"button",15),w("click",function(){f(t);let i=g();return h(i.togglePassword())}),m(19,W,3,0,":svg:svg",16)(20,Y,3,0,":svg:svg",16),n()(),m(21,$,2,0,"span",10),n(),o(22,"div",17)(23,"button",18),w("click",function(){f(t);let i=g();return h(i.forgotPassword())}),s(24,"Forgot your password?"),n()(),o(25,"button",19),m(26,J,1,0,"span",20)(27,K,1,0),n()()}if(e&2){let t=g();d("formGroup",t.LoginForm),l(9),p(t.LoginForm.controls.email.touched&&t.LoginForm.controls.email.invalid?9:-1),l(8),d("type",t.showPassword?"text":"password"),l(2),p(t.showPassword?19:20),l(2),p(t.LoginForm.controls.password.touched&&t.LoginForm.controls.password.invalid?21:-1),l(4),d("disabled",t.isLoggingIn()),l(),p(t.isLoggingIn()?26:27)}}function U(e,a){e&1&&r(0,"span",20)}function X(e,a){e&1&&s(0," Verify Code ")}function Z(e,a){if(e&1){let t=v();o(0,"form",2),w("ngSubmit",function(){f(t);let i=g();return h(i.onTwoFactorCode())}),o(1,"div",3)(2,"label",25),s(3,"Authentication Code"),n(),o(4,"div",5),u(),o(5,"svg",6),r(6,"rect",12)(7,"path",13),n(),b(),r(8,"input",26),n()(),o(9,"div",27)(10,"label",28),r(11,"input",29)(12,"span",30),o(13,"span"),s(14,"Remember this device"),n()()(),o(15,"button",19),m(16,U,1,0,"span",20)(17,X,1,0),n()()}if(e&2){let t=g();d("formGroup",t.twoFactorFrom),l(15),d("disabled",t.isLoggingIn()),l(),p(t.isLoggingIn()?16:17)}}var pe=(()=>{class e{constructor(){this._authService=x(q),this._navbar=x(D),this.isLoggingIn=this._authService.isLoggingIn,this.LoginForm=new y({email:new C("",[_.required,A]),password:new C("",[_.required])}),this.twoFactorFrom=new y({twoFactorCode:new C("",[_.required,_.minLength(6),_.maxLength(8)]),rememberMe:new C(!1)}),this.showTwoFactor=this._authService.showTwoFactorScreen,this.showPassword=!1}togglePassword(){this.showPassword=!this.showPassword}forgotPassword(){this._navbar.navigateTo(R.FORGOT_PASSWORD.route)}login(){S(this.LoginForm)&&this.LoginForm.value.email&&this.LoginForm.value.password&&this._authService.login(this.LoginForm.value.email.toLowerCase(),this.LoginForm.value.password,{screenWidth:window.screen.width,screenHeight:window.screen.height,deviceOrientation:screen.orientation.type})}onTwoFactorCode(){S(this.twoFactorFrom)&&this.twoFactorFrom.value.twoFactorCode&&this._authService.twoFactor$.next({code:this.twoFactorFrom.value.twoFactorCode,rememberMe:!!this.twoFactorFrom.value.rememberMe})}static{this.\u0275fac=function(c){return new(c||e)}}static{this.\u0275cmp=M({type:e,selectors:[["ks-solutions-login"]],standalone:!0,features:[F],decls:3,vars:6,consts:[[3,"config"],[3,"formGroup"],[3,"ngSubmit","formGroup"],[1,"form-group"],["for","email"],[1,"input-wrapper"],["xmlns","http://www.w3.org/2000/svg","width","18","height","18","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2",1,"input-icon"],["d","M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"],["points","22,6 12,13 2,6"],["type","email","id","email","formControlName","email","placeholder","Enter your email","autocomplete","email"],[1,"error-text"],["for","password"],["x","3","y","11","width","18","height","11","rx","2","ry","2"],["d","M7 11V7a5 5 0 0 1 10 0v4"],["id","password","formControlName","password","placeholder","Enter your password","autocomplete","current-password",3,"type"],["type","button",1,"toggle-password",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","18","height","18","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],[1,"forgot-link"],["type","button",3,"click"],["type","submit",1,"submit-btn",3,"disabled"],[1,"btn-spinner"],["d","M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"],["x1","1","y1","1","x2","23","y2","23"],["d","M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"],["cx","12","cy","12","r","3"],["for","code"],["type","text","id","code","formControlName","twoFactorCode","placeholder","Enter 6-digit code","maxlength","8","autocomplete","one-time-code"],[1,"checkbox-group"],[1,"checkbox-label"],["type","checkbox","formControlName","rememberMe"],[1,"checkmark"]],template:function(c,i){c&1&&(o(0,"ks-solutions-form-layout",0),m(1,Q,28,7,"form",1)(2,Z,18,3,"form",1),n()),c&2&&(d("config",P(2,j,i.showTwoFactor()?"Verification":"Welcome Back",i.showTwoFactor()?"Enter your authentication code":"Sign in to continue",i.isLoggingIn)),l(),p(i.showTwoFactor()?2:1))},dependencies:[z,V,O,k,T,E,I,G,N,H,L],styles:[".form-group[_ngcontent-%COMP%]{margin-bottom:1.25rem}label[_ngcontent-%COMP%]{display:block;font-size:.875rem;font-weight:500;color:#e2e8f0;margin-bottom:.5rem}.input-wrapper[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.input-icon[_ngcontent-%COMP%]{position:absolute;left:1rem;color:#64748b;pointer-events:none}input[type=email][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%], input[type=text][_ngcontent-%COMP%]{width:100%;padding:.875rem 1rem .875rem 2.75rem;background:#ffffff0d;border:1px solid rgba(255,255,255,.1);border-radius:10px;font-size:.95rem;color:#fff;outline:none;transition:all .2s ease}input[type=email][_ngcontent-%COMP%]::placeholder, input[type=password][_ngcontent-%COMP%]::placeholder, input[type=text][_ngcontent-%COMP%]::placeholder{color:#64748b}input[type=email][_ngcontent-%COMP%]:focus, input[type=password][_ngcontent-%COMP%]:focus, input[type=text][_ngcontent-%COMP%]:focus{border-color:#06b6d4;box-shadow:0 0 0 3px #06b6d41a}.toggle-password[_ngcontent-%COMP%]{position:absolute;right:1rem;background:none;border:none;color:#64748b;cursor:pointer;padding:0;display:flex;align-items:center;justify-content:center}.toggle-password[_ngcontent-%COMP%]:hover{color:#94a3b8}.error-text[_ngcontent-%COMP%]{display:block;font-size:.8rem;color:#f87171;margin-top:.5rem}.forgot-link[_ngcontent-%COMP%]{text-align:right;margin-bottom:1.5rem}.forgot-link[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:none;border:none;color:#06b6d4;font-size:.875rem;cursor:pointer;padding:0}.forgot-link[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#22d3ee;text-decoration:underline}.submit-btn[_ngcontent-%COMP%]{width:100%;padding:.875rem;background:linear-gradient(135deg,#06b6d4,#0891b2);border:none;border-radius:10px;font-size:1rem;font-weight:600;color:#fff;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;justify-content:center;min-height:48px}.submit-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(135deg,#0891b2,#0e7490);transform:translateY(-1px)}.submit-btn[_ngcontent-%COMP%]:disabled{opacity:.7;cursor:not-allowed}.btn-spinner[_ngcontent-%COMP%]{width:20px;height:20px;border:2px solid rgba(255,255,255,.3);border-top-color:#fff;border-radius:50%;animation:_ngcontent-%COMP%_spin .8s linear infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.checkbox-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.checkbox-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;cursor:pointer;font-size:.9rem;color:#94a3b8}.checkbox-label[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{width:18px;height:18px;accent-color:#06b6d4;cursor:pointer}"],changeDetection:0})}}return e})();export{pe as LoginComponent};
