import{a as B}from"./chunk-JE2TZ4BC.js";import{a as G}from"./chunk-EDHW7UVH.js";import{a as N}from"./chunk-RN7YLSYN.js";import"./chunk-V3RKPLKU.js";import"./chunk-5YWUWVK4.js";import{a as A}from"./chunk-DDY2ZFNV.js";import{$ as I,A as w,C as P,D as k,E as C,G as x,H as S,K as T,aa as E,da as R,ea as D,fa as L,ja as O,la as q}from"./chunk-E5MLKHCJ.js";import"./chunk-CARY4E7O.js";import"./chunk-ARNZMF2R.js";import{$b as g,Hb as o,N as f,Sb as r,Tb as a,Ub as s,hb as t,ka as d,mc as p,oa as v,sb as h,uc as b,vc as n,wc as u,xc as _,yc as F,zc as y}from"./chunk-42PURYOY.js";var j=()=>({addClass:"background-transparent p-2"}),z=()=>({text:"Forgot Password",tag:"h3",fontWeight:"500",case:"uppercase"}),W=()=>({text:"Email"}),Q=()=>({icon:"icon_message",color:"var(--primary-color)"}),Y=()=>({preventInputSpace:!0}),Z=(e,l,m,c)=>({label:e,control:l,prefixIcon:m,extra:c}),H=()=>({text:"Go back to login"}),J=()=>({icon:"icon_backward"}),K=(e,l)=>({label:e,prefixIcon:l}),U=()=>({text:"Send Recovery Link"}),X=()=>({"min-height":"45px"}),$=(e,l,m)=>({label:e,addStyles:l,matType:"mat-stroked-button",type:"submit",color:"primary",disabled:m,takeFullWidth:!0}),M=e=>({text:e,translate:!1}),ee=()=>({text:"Powered By"}),te=e=>({loading:e,disableInteractions:!0}),ge=(()=>{class e{constructor(){this._authService=d(B),this._navbar=d(A),this.isReqInProgress=h(!1),this.constants=N,this.date=new Date().getFullYear(),this.forgotPasswordForm=new k({email:new C("",[w.required,E])})}ngOnInit(){window.scrollTo(0,0),this._theme=this._navbar.getCurrentTheme(),this._navbar.forceTheme("dark",!0)}ngOnDestroy(){this._navbar.forceTheme(this._theme)}goToLogin(){this._navbar.navigateTo(G.LOGIN.route)}forgotPassword(){I(this.forgotPasswordForm)&&this.forgotPasswordForm.value.email&&(this.isReqInProgress.set(!0),this._authService.forgotPassword(this.forgotPasswordForm.value.email.toLowerCase()).pipe(f(1)).subscribe({next:()=>{this.goToLogin(),this.isReqInProgress.set(!1)},error:()=>{this.isReqInProgress.set(!1)}}))}static{this.\u0275fac=function(c){return new(c||e)}}static{this.\u0275cmp=v({type:e,selectors:[["ks-solutions-forgot-password"]],standalone:!0,features:[b],decls:23,vars:38,consts:[[1,"login-container","d-flex","align-items-center","justify-content-center"],[1,"login-card",3,"config"],[1,"py-3","mx-auto"],[1,"text-center",3,"config"],[1,"h5","text-center"],[1,"px-sm-1","px-md-4","py-2",3,"ngSubmit","formGroup"],[1,""],[3,"config"],[1,"mb-3","small","text-end"],[3,"onClick","config"],[1,"mt-4",3,"config"],[1,"mt-3","small","mx-auto","text-center"],[2,"font-size","14px","padding-top","2px"],[1,"small","mx-auto","text-center","mt-2"],[1,"cs-primary-color"]],template:function(c,i){c&1&&(r(0,"div",0)(1,"ks-base-card",1)(2,"div",2),s(3,"ks-base-label",3),r(4,"div",4),p(5,"Please enter your Email for password recovery."),a()(),r(6,"div")(7,"form",5),g("ngSubmit",function(){return i.forgotPassword()}),r(8,"div",6),s(9,"ks-base-input",7),a(),r(10,"div",8)(11,"ks-base-button",9),g("onClick",function(){return i.goToLogin()}),a()(),s(12,"ks-base-button",10),a()(),r(13,"div",11)(14,"span",12),p(15,"\xA9"),a(),s(16,"ks-base-label",7),a(),r(17,"div",13),s(18,"ks-base-label",7),p(19," \xA0 "),r(20,"b",14),s(21,"ks-base-label",7),a()()(),s(22,"ks-loader-overlay",7),a()),c&2&&(t(),o("config",n(10,j)),t(2),o("config",n(11,z)),t(4),o("formGroup",i.forgotPasswordForm),t(2),o("config",y(15,Z,n(12,W),i.forgotPasswordForm.controls.email,n(13,Q),n(14,Y))),t(2),o("config",_(22,K,n(20,H),n(21,J))),t(),o("config",F(27,$,n(25,U),n(26,X),i.isReqInProgress)),t(4),o("config",u(31,M,"2022 - "+i.date+" - Version: "+i.constants.version)),t(2),o("config",n(33,ee)),t(3),o("config",u(34,M,i.constants.appOwner)),t(),o("config",u(36,te,i.isReqInProgress)))},dependencies:[L,O,T,x,P,S,D,q,R],styles:['.login-container[_ngcontent-%COMP%]{overflow-y:auto;min-height:100dvh;background:url("./media/login-5DPQAA6Z.jpg");background-size:cover}.login-card[_ngcontent-%COMP%]{width:calc(100vw - 20px);max-width:500px}'],changeDetection:0})}}return e})();export{ge as ForgotPasswordComponent};
