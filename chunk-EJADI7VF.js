import{a as A}from"./chunk-HOXU4Y25.js";import{a as p}from"./chunk-ICJAWS6B.js";import{a as _}from"./chunk-JDEWHVZM.js";import"./chunk-HMNUYURD.js";import"./chunk-VMV3LQCJ.js";import{a as H}from"./chunk-VL4WVYQ7.js";import{la as M,ra as $}from"./chunk-OMSYFKJ3.js";import"./chunk-CARY4E7O.js";import"./chunk-Z72V5FLM.js";import{Dc as x,Ec as y,Hb as m,Nb as c,Ob as C,Qb as h,Rb as g,Sb as r,Tb as l,Ub as d,bc as s,gd as E,hb as o,ka as f,oa as L,sb as v,vc as k,wc as S,y as u,zb as a}from"./chunk-P5AQMEDB.js";var F=()=>({text:"Menus",tag:"h2",fontWeight:"500",case:"titlecase"}),N=()=>({text:"Services",tag:"h2",fontWeight:"500",case:"titlecase"});function w(e,n){if(e&1&&(r(0,"div",3)(1,"div",4),d(2,"ks-base-card",5),l()()),e&2){let t=s().$implicit,i=s(3);o(2),m("config",i.getCardConfig(t))}}function B(e,n){if(e&1&&a(0,w,3,1,"div",3),e&2){let t=n.$implicit;c(t.type==="menu"?0:-1)}}function O(e,n){if(e&1&&(d(0,"ks-base-label",1),r(1,"div",2),h(2,B,1,1,null,null,C),l()),e&2){let t=s();m("config",S(1,F)),o(2),g(t)}}function P(e,n){e&1&&a(0,O,4,2),e&2&&c(n.length?0:-1)}function U(e,n){if(e&1&&(r(0,"div",3)(1,"div",4),d(2,"ks-base-card",5),l()()),e&2){let t=s().$implicit,i=s(3);o(2),m("config",i.getServiceCardConfig(t))}}function D(e,n){if(e&1&&a(0,U,3,1,"div",3),e&2){let t=n.$implicit;c(t.type==="service"?0:-1)}}function R(e,n){if(e&1&&(r(0,"div",6),d(1,"ks-base-label",1),r(2,"div",2),h(3,D,1,1,null,null,C),l()()),e&2){let t=s();o(),m("config",S(1,N)),o(2),g(t)}}function Y(e,n){e&1&&a(0,R,5,2,"div",6),e&2&&c(n.length?0:-1)}var ee=(()=>{class e{constructor(){this._navService=f(H),this._lovService=f(A),this._servicesAndMenus$=this._lovService.menusAndServicesLov$,this._menuInvoiceScreen=_("menu_invoice").fullPath,this._menuSettingsScreen=_("menu_settings").fullPath,this._menuCrudScreen=_("menu_crud").fullPath,this.menus$=this._servicesAndMenus$.pipe(u(t=>t.filter(i=>i.type==="menu"))),this.services$=this._servicesAndMenus$.pipe(u(t=>t.filter(i=>i.type==="service")))}ngOnInit(){this._lovService.getMenusAndServicesLov(),this._navService.updateNav({show:!1,back:!1})}getCardConfig(t){return{header:{title:{text:t.name,tag:"h4",translate:!1,addClass:"pt-3"},suffixButton:this._menuSettingsScreen?{label:{text:"Settings"},prefixIcon:{icon:"icon_settings"},matType:"mat-icon-button",onClick:()=>{this._navService.navigateTo(p.LAYOUT.children.MENU_SETTINGS.route,{MenuId:t._id})}}:void 0},footer:{buttons:[{label:{text:"Invoice"},matType:"mat-stroked-button",prefixIcon:{icon:"icon_file"},onClick:()=>{this._navService.navigateTo(p.LAYOUT.children.INVOICE.route,{MenuId:t._id})},hide:v(!(t.hasInvoice&&this._menuInvoiceScreen))},{label:{text:"Edit Menu Data"},matType:"mat-stroked-button",prefixIcon:{icon:"icon_edit"},onClick:()=>{this._navService.navigateTo(p.LAYOUT.children.MENU.route,{MenuId:t._id})},hide:v(!this._menuCrudScreen)}],position:"center"},addClass:"h-100"}}getServiceCardConfig(t){return{header:{title:{text:t.name,tag:"h4"}},footer:{buttons:[{label:{text:"Open Service"},matType:"mat-stroked-button",suffixIcon:{icon:"icon_arrow_right",size:"sm"},onClick:()=>{window.open(t.url,"_blank")}}],position:"center"},addClass:"h-100"}}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=L({type:e,selectors:[["ks-solutions-layout-home-page"]],standalone:!0,features:[k],decls:5,vars:6,consts:[[1,"container-fluid","my-5"],[1,"text-center",3,"config"],[1,"row"],[1,"col-12","col-sm-6","col-md-6","col-lg-4","col-xl-3","mb-4"],[1,"cs-card","h-100","shadow-sm","border","border-1","rounded-2"],[3,"config"],[1,"mt-3"]],template:function(i,T){if(i&1&&(r(0,"div",0),a(1,P,1,1),x(2,"async"),a(3,Y,1,1),x(4,"async"),l()),i&2){let b,I;o(),c((b=y(2,2,T.menus$))?1:-1,b),o(2),c((I=y(4,4,T.services$))?3:-1,I)}},dependencies:[E,M,$],styles:[".cs-card[_ngcontent-%COMP%]{transition:transform .3s}"],changeDetection:0})}}return e})();export{ee as LayoutHomeComponent};
